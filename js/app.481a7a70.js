(function(t){function e(e){for(var n,a,c=e[0],r=e[1],l=e[2],u=0,f=[];u<c.length;u++)a=c[u],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&f.push(i[a][0]),i[a]=0;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);d&&d(e);while(f.length)f.shift()();return s.push.apply(s,l||[]),o()}function o(){for(var t,e=0;e<s.length;e++){for(var o=s[e],n=!0,c=1;c<o.length;c++){var r=o[c];0!==i[r]&&(n=!1)}n&&(s.splice(e--,1),t=a(a.s=o[0]))}return t}var n={},i={app:0},s=[];function a(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=t,a.c=n,a.d=function(t,e,o){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(o,n,function(e){return t[e]}.bind(null,n));return o},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/todo-list-app/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],r=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var d=r;s.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"375d":function(t,e,o){"use strict";o("f437")},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d"),o("5319"),o("ac1f"),o("4d63"),o("25f0");var n=o("2b0e"),i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("router-view"),t._l(t.items,(function(e,n){return o(e.component,{key:n,tag:"component",attrs:{dialogInfo:e.dialogInfo},on:{done:function(e){return t.doneDialog(n)}}})}))],2)},s=[],a=(o("a434"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"modal",staticStyle:{display:"block"},attrs:{tabindex:"-1",role:"dialog"}},[o("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[o("div",{staticClass:"modal-content"},[o("div",{staticClass:"modal-header"},[t._m(0),o("h4",{staticClass:"modal-title"},[t._v(t._s(t.dialogInfo.title||"提示"))])]),o("div",{staticClass:"modal-body"},[o("p",[t._v(t._s(t.dialogInfo.text))])]),o("div",{staticClass:"modal-footer"},[o("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:t.cancel}},[t._v(t._s(t.dialogInfo.cancelText||"取消"))]),o("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.confirm}},[t._v(t._s(t.dialogInfo.confirmText||"确认"))])])])])])}),c=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"}},[o("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])}],r={props:{dialogInfo:{type:Object,default:function(){}}},methods:{cancel:function(){this.dialogInfo.reject&&(this.dialogInfo.reject(),this.$emit("done"))},confirm:function(){this.dialogInfo.resolve&&(this.dialogInfo.resolve(),this.$emit("done"))}}},l=r,d=(o("8bdb"),o("2877")),u=Object(d["a"])(l,a,c,!1,null,"f89b9a74",null),f=u.exports,p={name:"app",data:function(){return{items:[]}},mounted:function(){var t=this;this.$nextTick((function(){A.$on("setDialog",(function(e){t.items.push({dialogInfo:e,component:f})}))}))},methods:{doneDialog:function(t){this.items.splice(t,1)}}},m=p,h=Object(d["a"])(m,i,s,!1,null,null,null),g=h.exports,v=o("8c4f"),y=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("section",{staticClass:"todoapp"},[o("header",{staticClass:"header"},[o("h1",[t._v("todos")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.newTodo,expression:"newTodo"},{name:"autofocus",rawName:"v-autofocus"}],staticClass:"new-todo",attrs:{placeholder:"你接下来要做什么？"},domProps:{value:t.newTodo},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addTodo(e)},input:function(e){e.target.composing||(t.newTodo=e.target.value)}}})]),o("section",{directives:[{name:"show",rawName:"v-show",value:t.todos.length||t.completedTodos.length,expression:"todos.length || completedTodos.length"}],staticClass:"main"},[o("transition-group",{staticClass:"todo-list",attrs:{name:"staggered-fade",tag:"ul",css:!1},on:{"before-enter":t.beforeEnter,enter:t.enter,leave:t.leave}},t._l(t.computedTodos,(function(e){return o("li",{key:e.id,staticClass:"todo",class:{completed:e.completed}},[o("todo-item",t._b({on:{delete:function(o){return t.removeTodo(e)},modified:function(o){return t.saveData(e)}}},"todo-item",e,!1,!0))],1)})),0),o("footer",{staticClass:"footer"},[o("span",{staticClass:"todo-count"},[o("strong",[t._v(t._s(t.remaining))]),t._v(" "+t._s(t._f("pluralize")(t.remaining))+" left ")]),o("ul",{staticClass:"filters"},[o("li",[o("a",{staticStyle:{cursor:"pointer"},on:{click:t.clearTodos}},[t._v("clear todos")])]),o("li",[o("a",{staticStyle:{cursor:"pointer"},on:{click:t.clearCompletedTodos}},[t._v("clear completed")])]),o("li",[o("a",{staticStyle:{cursor:"pointer"},on:{click:t.clearAllTodos}},[t._v("clear all")])])]),o("button",{directives:[{name:"show",rawName:"v-show",value:t.remaining,expression:"remaining"}],staticClass:"clear-completed",on:{click:t.completeAllTodo}},[t._v(" complete all ")])])],1)]),o("section",[o("ul",t._l(t.completedTodos,(function(e){return o("li",{key:e.id},[t._v(" Title："+t._s(e.title)+" Completed："+t._s(e.complete_time.substring(0,10))+" ")])})),0)])])},b=[],T=(o("4de4"),o("c740"),o("99af"),o("d81d"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{class:{editing:t.isEdited}},[o("div",{staticClass:"view"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.checkboxStatus,expression:"checkboxStatus"}],staticClass:"toggle",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.checkboxStatus)?t._i(t.checkboxStatus,null)>-1:t.checkboxStatus},on:{change:[function(e){var o=t.checkboxStatus,n=e.target,i=!!n.checked;if(Array.isArray(o)){var s=null,a=t._i(o,s);n.checked?a<0&&(t.checkboxStatus=o.concat([s])):a>-1&&(t.checkboxStatus=o.slice(0,a).concat(o.slice(a+1)))}else t.checkboxStatus=i},function(e){return t.updateChecked(e.target.checked)}]}}),o("label",{on:{dblclick:t.editTodo}},[t._v(t._s(t.title))]),o("button",{staticClass:"destroy",on:{click:t.removeTodo}})]),t.isEdited?o("input",{directives:[{name:"model",rawName:"v-model",value:t.editingTitle,expression:"editingTitle"},{name:"autofocus",rawName:"v-autofocus"}],staticClass:"edit",attrs:{type:"text"},domProps:{value:t.editingTitle},on:{blur:t.doneEdit,keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.doneEdit(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.cancelEdit(e)}],input:function(e){e.target.composing||(t.editingTitle=e.target.value)}}}):t._e()])}),_=[];o("d3b7");function x(t){var e=t.title,o=t.text,n=t.cancelText,i=t.confirmText;return new Promise((function(t,s){A.$emit("setDialog",{title:e,text:o,cancelText:n,confirmText:i,resolve:t,reject:s})}))}var k=x,w={data:function(){return{isEdited:!1,editingTitle:"",checkboxStatus:this.completed}},props:{title:{type:String,default:""},completed:{type:Boolean,default:!1},completed_time:{type:String,default:""}},methods:{editTodo:function(){this.editingTitle=this.title,this.isEdited=!0},doneEdit:function(){this.isEdited&&(this.$emit("update:title",this.editingTitle),this.$emit("modified"),this.isEdited=!1)},cancelEdit:function(){this.isEdited=!1},updateChecked:function(t){this.$emit("update:completed",t),t?this.$emit("update:complete_time",(new Date).Format("yyyy-MM-dd hh:mm:ss")):this.$emit("update:complete_time",""),this.$emit("modified")},removeTodo:function(){var t=this;k({text:"确认要删除吗？"}).then((function(){return t.$emit("delete")})).catch((function(){return console.log("用户点击了取消按钮！")}))}}},C=w,S=(o("afe5"),Object(d["a"])(C,T,_,!1,null,"6c078e90",null)),E=S.exports,O=o("bcc2"),$={components:{"todo-item":E},data:function(){return{id:localStorage.getItem("todo-id")||1,todos:JSON.parse(localStorage.getItem("todos")||"[]"),completedTodos:JSON.parse(localStorage.getItem("all-completed-todos")||"[]"),newTodo:""}},watch:{todos:function(t){localStorage.setItem("todos",JSON.stringify(t)),localStorage.setItem("todo-id",this.id)},completedTodos:function(t){localStorage.setItem("all-completed-todos",JSON.stringify(t))}},computed:{remaining:function(){return this.todos.filter((function(t){return!t.completed})).length},computedTodos:function(){var t=this;return this.todos.filter((function(e){return-1!==e.title.toLowerCase().indexOf(t.newTodo.toLowerCase())}))}},methods:{addTodo:function(){this.newTodo&&(this.todos.unshift({id:this.id++,title:this.newTodo,completed:!1,create_time:(new Date).Format("yyyy-MM-dd hh:mm:ss"),complete_time:""}),this.newTodo="")},removeTodo:function(t){var e=this.todos.findIndex((function(e){return e.id===t.id}));this.todos.splice(e,1)},completeAllTodo:function(){this.completedTodos=this.todos.map((function(t){return t.complete_time=(new Date).Format("yyyy-MM-dd hh:mm:ss"),t})).concat(this.completedTodos),this.todos=[]},clearTodos:function(){this.todos=[]},clearCompletedTodos:function(){this.completedTodos=[]},clearAllTodos:function(){this.todos=[],this.completedTodos=[]},beforeEnter:function(t){t.style.opacity=0,t.style.height=0},enter:function(t,e){var o=150*t.dataset.index;setTimeout((function(){Object(O["a"])(t,{opacity:1,height:"58px"},{complete:e})}),o)},leave:function(t,e){var o=150*t.dataset.index;setTimeout((function(){Object(O["a"])(t,{opacity:0,height:0},{complete:e})}),o)},saveData:function(t){t.completed?(this.completedTodos.unshift(t),this.removeTodo(t)):localStorage.setItem("todos",JSON.stringify(this.todos))}},filters:{pluralize:function(t){return t>1?"items":"item"}}},I=$,j=(o("375d"),Object(d["a"])(I,y,b,!1,null,null,null)),M=j.exports;n["a"].use(v["a"]);var N=[{path:"/",name:"Todo",component:M},{path:"*",redirect:{name:"Todo"}}],D=new v["a"]({routes:N}),P=D;n["a"].config.productionTip=!1,n["a"].directive("autofocus",{inserted:function(t){t.focus()}}),Date.prototype.Format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var o in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),e)new RegExp("("+o+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[o]:("00"+e[o]).substr((""+e[o]).length)));return t};var A=e["default"]=new n["a"]({router:P,render:function(t){return t(g)}}).$mount("#app")},"8bdb":function(t,e,o){"use strict";o("9f55")},"9f55":function(t,e,o){},afe5:function(t,e,o){"use strict";o("f2bf")},f2bf:function(t,e,o){},f437:function(t,e,o){}});
//# sourceMappingURL=app.481a7a70.js.map